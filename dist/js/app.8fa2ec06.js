(function(){"use strict";var e={6284:function(e,t,o){var a=o(5130),r=o(1387),n=o(6768);function s(e,t,o,a,r,s){const l=(0,n.g2)("ProductsList");return(0,n.uX)(),(0,n.CE)(n.FK,null,[t[0]||(t[0]=(0,n.Lk)("h1",null,"Products",-1)),(0,n.bF)(l,{products:e.products},null,8,["products"])],64)}var l=o(144),u=o(4373),i=o(4232);const c={class:"grid-wrap"},d=["src"],p={class:"product-name"},m={class:"product-price"};function g(e,t,o,a,r,s){const l=(0,n.g2)("router-link");return(0,n.uX)(),(0,n.CE)("div",c,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.props.products,(e=>((0,n.uX)(),(0,n.CE)("div",{class:"product-item",key:e.id},[(0,n.Lk)("img",{src:e.imageUrl,alt:""},null,8,d),(0,n.Lk)("h3",p,(0,i.v_)(e.name),1),(0,n.Lk)("p",m,(0,i.v_)(e.price),1),(0,n.bF)(l,{to:"/products/"+e.id},{default:(0,n.k6)((()=>t[0]||(t[0]=[(0,n.Lk)("button",null,"View Details",-1)]))),_:2},1032,["to"])])))),128))])}var v=(0,n.pM)({name:"ProductsList",props:{products:{type:Array,required:!0}},setup(e){return{props:e}}}),f=o(1241);const b=(0,f.A)(v,[["render",g]]);var h=b,k=(0,n.pM)({name:"ProductsPage",components:{ProductsList:h},setup(){const e=(0,l.KR)([]),t=async()=>{try{const t=await u.A.get("/api/products");e.value=t.data}catch(t){console.error("Error fetching products:",t)}};return(0,n.sV)((()=>{t()})),{products:e}}});const y=(0,f.A)(k,[["render",s]]);var C=y;const M={key:0},L={class:"img-wrap"},E=["src"],I={class:"product-details"},w={class:"price"},S={key:1,class:"grey-button"},F={key:1};function A(e,t,o,r,s,l){const u=(0,n.g2)("MessageModal"),c=(0,n.g2)("EmailModal"),d=(0,n.g2)("NotFoundPage");return e.product?((0,n.uX)(),(0,n.CE)("div",M,[(0,n.Lk)("div",L,[(0,n.Lk)("img",{src:e.product.imageUrl,alt:""},null,8,E)]),(0,n.Lk)("div",I,[(0,n.Lk)("h1",null,(0,i.v_)(e.product.name),1),(0,n.Lk)("h3",w,(0,i.v_)(e.product.price),1),e.user&&!e.itemIsInCart?((0,n.uX)(),(0,n.CE)("button",{key:0,onClick:t[0]||(t[0]=(...t)=>e.addToCart&&e.addToCart(...t)),class:"add-to-cart"}," Add to cart ")):(0,n.Q3)("",!0),e.user&&e.itemIsInCart?((0,n.uX)(),(0,n.CE)("button",S," Item is already in cart ")):(0,n.Q3)("",!0),e.user?(0,n.Q3)("",!0):((0,n.uX)(),(0,n.CE)("button",{key:2,class:"sign-in",onClick:t[1]||(t[1]=(...t)=>e.openEmailModal&&e.openEmailModal(...t))},"Sign in to add to cart"))]),(0,n.bo)((0,n.bF)(u,{onClose:t[2]||(t[2]=t=>e.isMessageModalVisible=!1),title:e.modalTitle,message:e.modalMessage},null,8,["title","message"]),[[a.aG,e.isMessageModalVisible]]),(0,n.bo)((0,n.bF)(c,{onUpdateEmail:e.handleUpdateSubmit,onClose:t[3]||(t[3]=t=>e.isEmailModalVisible=!1)},null,8,["onUpdateEmail"]),[[a.aG,e.isEmailModalVisible]])])):((0,n.uX)(),(0,n.CE)("div",F,[(0,n.bF)(d)]))}o(8992),o(7550);var P=o(5955);const O={id:"emailModal",class:"modal"},_={class:"modal-content"},K={class:"modal-header"},X={class:"modal-body"},R={class:"modal-footer"};function V(e,t,o,a,r,s){return(0,n.uX)(),(0,n.CE)("div",O,[(0,n.Lk)("div",_,[(0,n.Lk)("div",K,[t[4]||(t[4]=(0,n.Lk)("h2",null,"Log In",-1)),(0,n.Lk)("button",{class:"close-btn",onClick:t[0]||(t[0]=t=>e.$emit("close"))},"×")]),t[6]||(t[6]=(0,n.Lk)("hr",null,null,-1)),(0,n.Lk)("div",X,[t[5]||(t[5]=(0,n.Lk)("p",null,"Please enter your email to sign in:",-1)),(0,n.Lk)("input",{type:"email",id:"emailInput",placeholder:"Enter your email",required:"","aria-label":"email",name:"email",onInput:t[1]||(t[1]=(...t)=>e.handleInput&&e.handleInput(...t))},null,32)]),(0,n.Lk)("div",R,[(0,n.Lk)("button",{id:"submitEmail",onClick:t[2]||(t[2]=(...t)=>e.submitEmail&&e.submitEmail(...t)),class:"footer-btn"},"Submit"),(0,n.Lk)("button",{onClick:t[3]||(t[3]=t=>e.$emit("close")),class:"footer-btn"},"Cancel")])])])}var $=(0,n.pM)({name:"EmailModal",emits:["update-email","close"],setup(e,{emit:t}){const o=(0,l.KR)(""),a=()=>{t("update-email",o.value)},r=e=>{const t=e.target.value;o.value=t};return{email:o,submitEmail:a,handleInput:r}}});const j=(0,f.A)($,[["render",V],["__scopeId","data-v-43181adc"]]);var x=j;function T(e,t,o,a,r,s){return(0,n.uX)(),(0,n.CE)("h1",null,"404: Page Not Found")}var q=(0,n.pM)({name:"NotFoundPage"});const N=(0,f.A)(q,[["render",T]]);var U=N;const Q={id:"messageModal",class:"modal"},D={class:"modal-content"},B={class:"modal-header"},Y={class:"modal-body"},G={class:"modal-footer"};function W(e,t,o,a,r,s){return(0,n.uX)(),(0,n.CE)("div",Q,[(0,n.Lk)("div",D,[(0,n.Lk)("div",B,[t[2]||(t[2]=(0,n.Lk)("h2",null,"Message",-1)),(0,n.Lk)("button",{class:"close-btn",onClick:t[0]||(t[0]=t=>e.$emit("close"))},"×")]),t[3]||(t[3]=(0,n.Lk)("hr",null,null,-1)),(0,n.Lk)("div",Y,[(0,n.Lk)("h2",null,(0,i.v_)(e.title),1),(0,n.Lk)("p",null,(0,i.v_)(e.message),1)]),(0,n.Lk)("div",G,[(0,n.Lk)("button",{onClick:t[1]||(t[1]=t=>e.$emit("close")),class:"footer-btn"},"close")])])])}var z=(0,n.pM)({name:"MessageModal",props:{title:{type:String,required:!1},message:{type:String,required:!1}}});const H=(0,f.A)(z,[["render",W],["__scopeId","data-v-6dbe913f"]]);var J=H,Z=(0,n.pM)({name:"ProductDetailPage",components:{NotFoundPage:U,MessageModal:J,EmailModal:x},props:{user:{type:Object,required:!0}},setup(e){const t=(0,r.lq)(),o=(0,l.KR)(),a=(0,l.KR)([]),s=(0,l.KR)(!1),i=(0,l.KR)(!1),c="Product Message",d=(0,l.KR)(""),p=(0,l.KR)(""),m=e=>{d.value=e,s.value=!0},g=async()=>{try{const r=await u.A.get(`/api/products/${t.params.productId}`);o.value=r.data;const n=await u.A.get(`/api/users/${e.user.uid}/cart`),s=n.data;a.value=s}catch(r){console.error("Error fetching products:",r)}},v=async()=>{await u.A.post(`/api/users/${e.user.uid}/cart`,{id:t.params.productId}),m(`Successfully added item (${t.params.productId}) to cart!`)},f=(0,n.EW)((()=>a.value.some((e=>e.id===t.params.productId)))),b=async()=>{const e=(0,P.xI)(),o={url:`http://localhost:8080/products/${t.params.productId}`,handleCodeInApp:!0};await(0,P.MN)(e,p.value,o),m("A login link was sent to the email you provided"),window.localStorage.setItem("emailForSignIn",p.value),i.value=!1};(0,n.sV)((async()=>{const t=(0,P.xI)();if((0,P.Pj)(t,window.location.href)){const e=window.localStorage.getItem("emailForSignIn")??"";await(0,P.hK)(t,e,window.location.href),m("Successfully signed in!"),window.localStorage.removeItem("emailForSignIn")}if(g(),e.user){const t=await u.A.get(`/api/users/${e.user.uid}/cart`),o=t.data;o.value=o}}));const h=e=>{p.value=e,i.value=!1,b()},k=()=>{i.value=!0};return{product:o,addToCart:v,itemIsInCart:f,modalTitle:c,modalMessage:d,handleUpdateSubmit:h,openEmailModal:k,userEmail:p,isEmailModalVisible:i,isMessageModalVisible:s}}});const ee=(0,f.A)(Z,[["render",A]]);var te=ee;const oe={key:0},ae={key:1};function re(e,t,o,r,s,l){const u=(0,n.g2)("ShoppingCartList"),i=(0,n.g2)("MessageModal");return(0,n.uX)(),(0,n.CE)(n.FK,null,[t[3]||(t[3]=(0,n.Lk)("h1",null,"Shopping Cart",-1)),e.cartItems.length>0?((0,n.uX)(),(0,n.CE)("div",oe,[(0,n.bF)(u,{onRemoveFromCart:t[0]||(t[0]=t=>e.removeFromCart(t)),products:e.cartItems},null,8,["products"]),t[2]||(t[2]=(0,n.Lk)("button",{class:"checkout-button"},"Proceed to Checkout",-1)),(0,n.bo)((0,n.bF)(i,{onClose:t[1]||(t[1]=t=>e.isMessageVisible=!1),title:e.modalTitle,message:e.modalMessage},null,8,["title","message"]),[[a.aG,e.isMessageVisible]])])):(0,n.Q3)("",!0),0===e.cartItems.length?((0,n.uX)(),(0,n.CE)("div",ae," You current have no items in your cart! ")):(0,n.Q3)("",!0)],64)}const ne=["src"],se={class:"details-wrap"},le=["onClick"];function ue(e,t,o,a,r,s){return(0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.props.products,(t=>((0,n.uX)(),(0,n.CE)("div",{class:"product-container",key:t.id},[(0,n.Lk)("img",{class:"product-image",src:t.imageUrl,alt:""},null,8,ne),(0,n.Lk)("div",se,[(0,n.Lk)("h3",null,(0,i.v_)(t.name),1),(0,n.Lk)("p",null,(0,i.v_)(t.price),1)]),(0,n.Lk)("button",{class:"remove-button",onClick:o=>e.RemoveFromCart(t.id)},"Remove from Cart",8,le)])))),128)}var ie=(0,n.pM)({name:"ShoppingCartList",props:{products:{type:Array,required:!0}},emits:["remove-from-cart"],setup(e,{emit:t}){const o=e=>{t("remove-from-cart",e)};return{props:e,RemoveFromCart:o}}});const ce=(0,f.A)(ie,[["render",ue]]);var de=ce,pe=(0,n.pM)({name:"ShoppingCartPage",components:{ShoppingCartList:de,MessageModal:J},props:{user:{type:Object,required:!0}},setup(e){const t=(0,l.KR)([]),o=(0,l.KR)(!1),a="Product Message",r=(0,l.KR)(""),s=e=>{r.value=e,o.value=!0},i=async()=>{try{const o=await u.A.get(`/api/users/${e.user.uid}/cart`);t.value=o.data}catch(o){console.error("Error fetching products:",o)}},c=async o=>{const a=await u.A.delete(`/api/users/${e.user.uid}/cart/${o}`),r=a.data;s(`Successfully removed item (${o}) from cart!`),t.value=r};return(0,n.sV)((()=>{e.user&&(console.log(e.user),i())})),{cartItems:t,removeFromCart:c,isMessageVisible:o,modalTitle:a,modalMessage:r}}});const me=(0,f.A)(pe,[["render",re]]);var ge=me;const ve=[{path:"/:pathMatch(.*)*",component:C},{path:"/products/:productId",component:te},{path:"/cart",component:ge},{path:"/:pathMatch(.*)*",component:U}],fe=(0,r.aE)({history:(0,r.LA)(),routes:ve});var be=fe,he=o(6400);const ke={class:"page-wrap"};function ye(e,t,o,a,r,s){const l=(0,n.g2)("NavBar"),u=(0,n.g2)("router-view");return(0,n.uX)(),(0,n.CE)(n.FK,null,[(0,n.bF)(l,{user:e.user},null,8,["user"]),(0,n.Lk)("div",ke,[(0,n.bF)(u,{user:e.user},null,8,["user"])])],64)}const Ce={class:"nav-bar"},Me={class:"logo-wrap"},Le=["src"],Ee={class:"nav-buttons-wrap"};function Ie(e,t,o,a,r,s){const l=(0,n.g2)("router-link");return(0,n.uX)(),(0,n.CE)("div",Ce,[(0,n.bF)(l,{to:"/products",class:"products-link"},{default:(0,n.k6)((()=>[(0,n.Lk)("div",Me,[(0,n.Lk)("img",{src:e.logo,alt:""},null,8,Le)])])),_:1}),(0,n.Lk)("div",Ee,[e.user?((0,n.uX)(),(0,n.CE)("button",{key:0,onClick:t[0]||(t[0]=(...t)=>e.handleSignOut&&e.handleSignOut(...t))},"Sign Out")):(0,n.Q3)("",!0),(0,n.bF)(l,{to:"/cart"},{default:(0,n.k6)((()=>t[1]||(t[1]=[(0,n.Lk)("button",null,"Shopping Cart",-1)]))),_:1})])])}var we=o.p+"img/logo-hexagon.d2768201.svg",Se=(0,n.pM)({name:"NavBar",props:{user:{type:Object,required:!0}},setup(){const e=(0,l.KR)(we),t=(0,P.xI)(),o=async()=>{try{await(0,P.CI)(t),console.log("User signed out successfully")}catch(e){console.error("Error signing out:",e)}};return{logo:e,handleSignOut:o}}});const Fe=(0,f.A)(Se,[["render",Ie]]);var Ae=Fe,Pe=(0,n.pM)({name:"App",components:{NavBar:Ae},setup(){const e=(0,l.KR)(null);return(0,n.sV)((()=>{const t=(0,P.xI)();(0,P.hg)(t,(t=>{e.value=t}))})),{user:e}}});const Oe=(0,f.A)(Pe,[["render",ye]]);var _e=Oe;const Ke={apiKey:"AIzaSyADDNeWQ7lYyev2UYSsP4q8e0OVStxEgQY",authDomain:"vue3-shopping-cart.firebaseapp.com",projectId:"vue3-shopping-cart",storageBucket:"vue3-shopping-cart.firebasestorage.app",messagingSenderId:"210152316575",appId:"1:210152316575:web:2162380d51c4a3c2778caa"};(0,he.Wp)(Ke);const Xe=(0,a.Ef)(_e);Xe.use(be),Xe.mount("#app")}},t={};function o(a){var r=t[a];if(void 0!==r)return r.exports;var n=t[a]={exports:{}};return e[a].call(n.exports,n,n.exports,o),n.exports}o.m=e,function(){var e=[];o.O=function(t,a,r,n){if(!a){var s=1/0;for(c=0;c<e.length;c++){a=e[c][0],r=e[c][1],n=e[c][2];for(var l=!0,u=0;u<a.length;u++)(!1&n||s>=n)&&Object.keys(o.O).every((function(e){return o.O[e](a[u])}))?a.splice(u--,1):(l=!1,n<s&&(s=n));if(l){e.splice(c--,1);var i=r();void 0!==i&&(t=i)}}return t}n=n||0;for(var c=e.length;c>0&&e[c-1][2]>n;c--)e[c]=e[c-1];e[c]=[a,r,n]}}(),function(){o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,{a:t}),t}}(),function(){o.d=function(e,t){for(var a in t)o.o(t,a)&&!o.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){o.p="/"}(),function(){var e={524:0};o.O.j=function(t){return 0===e[t]};var t=function(t,a){var r,n,s=a[0],l=a[1],u=a[2],i=0;if(s.some((function(t){return 0!==e[t]}))){for(r in l)o.o(l,r)&&(o.m[r]=l[r]);if(u)var c=u(o)}for(t&&t(a);i<s.length;i++)n=s[i],o.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return o.O(c)},a=self["webpackChunkvue3_products"]=self["webpackChunkvue3_products"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=o.O(void 0,[504],(function(){return o(6284)}));a=o.O(a)})();
//# sourceMappingURL=app.8fa2ec06.js.map